// Contains the top navbar
.nav {
	position: fixed;
	top: 0;
	left: 0;
	height: 100%;
	width: $nav-width-open;
	background-color: $gray-dark;
	color: lighten($gray-light, 20%);
	z-index: 200; // to clear the breadcrumbs and the main content
	@include transition(all 200ms ease-out);
	border-top: $nav-top-border-height solid $theme-color;
	overflow-y: auto;

	// when the nav has the class of 'show', it's triggered
	// by the mobile grabber icon, so it needs to be left: 0
	// and get a small box shadow
	&.show {
		left: 0;
	
		// only show the box shadow if you're on mobile
		@media(max-width:$mobile) {
			@include box-shadow(0 0 25px rgba(#333, .4));
		}
	}


	a, a:hover {
		text-decoration: none !important;
	}

	.top-level-nav {
		padding: 0;
		margin: 0;

		// the top level nav items (usually contain a subnav)
		.main-nav {
			a {
				display: block;
				border-bottom: 1px solid lighten($gray-dark, 3%);
				color: lighten($gray-dark, 35%);
				font-weight: $headings-font-weight;
				font-weight: 700;
				font-size: 12px;
				padding: 10px;
				cursor: pointer;

				.glyphicon {
					display: inline-block;
					padding-right: 5px;
				}
			}

			.top-level {
				background-color: lighten($gray-dark, 5%);
				
				&:hover {
					background-color: lighten($gray-dark, 10%);
					color: #eee;
				}
			}

			&.active {
				.top-level {
					background-color: lighten($gray-dark, 10%);
					color: #eee;
				}
			}

			// the nested nav items within the parent
			.subnav {
				background-color: darken($gray-dark, 6%);
				overflow: hidden;
				max-height: 0;
				@include transition(all 300ms ease-out);

				a {
					font-size: 12px;
					font-weight: 300;
					padding: 8px;
					border-bottom: 1px solid darken($gray-dark, 4%);
					padding-left: 20px;

					&:hover {
						background-color: darken($gray-dark, 5%);
					}

					// highlight the active page
					&.active {
						color: $theme-color;
						border-left: 3px solid $theme-color;
						background-color: darken($gray-dark, 2%);
					}
				}
			}

			&.active {
				
				// have the currently expanded subnav show
				.subnav {
					max-height: 900px;
				}
			}
		}
	}

	// hide the nav when you're on mobile widths
	@media(max-width:$mobile) {
		left: -200px;
	}
}