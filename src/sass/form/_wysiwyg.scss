
/**
 * CKEditor
 */

// Change the bkgd color of ckeditor, making it lighter
.cke_bottom, .cke_top, .cke_chrome {
	background: $form-container-bkgd;
}

// There was a little bit too much pad bottom that resulted
// in a bad wrap
// http://yo.bkwld.com/image/2s2p1g0w3a2X
.wysiwyg-wrap .cke_combo_button {
	margin-bottom: 3px;
}

/**
 * Redactor
 */

// Increase specifity to override vendor styles
.form-group .redactor-box {

	// Clear bottom margin
	margin-bottom: 0;

	// Add a border around the whole unit
	border: 1px solid $input-group-addon-border-color;
	@include border-radius($input-border-radius);

	// Prevent drop shadow on toolbar from overlapping
	overflow: hidden;

	// Change bkgd color to the same one used by 
	.redactor-toolbar {
		background: $light-grey;
		@include border-radius($input-border-radius $input-border-radius 0 0); // Match parent so no clipping

		// Make the links use the theme colors
		li a {
			&:hover {
				background: $theme-primary-color;
				color: $theme-primary-inverse;
			}
		}
	}

	// Style the editor
	.redactor-editor {

		// Remove border since it's global now
		border: none;

		// Style like normal inputs
		padding: $padding-base-vertical $padding-base-horizontal;
		padding-top: $padding-base-vertical + 2px; // Looks better considering top shadow
		@include box-shadow(inset 0 1px 1px rgba(0,0,0,.075));

		// Styling
		font-family: inherit;
		line-height: inherit;
		background: none;

		// Most sites use a reset, so remove the margins on p tags to match
		h1, h2, h3, h4, h5, h6, p { margin: 0; }
	}

	// Improve styling of code editor view
	textarea {
		@include border-radius(0);
		font-family: $font-family-monospace;
		padding: $padding-base-vertical $padding-base-horizontal;
		background: $code-editor-bkgd;
		color: $code-editor-text;
	}
}	

// Fix file upload placement in redactor modal
#redactor-droparea-placeholder input[type="file"] {
	display: inline;
}

// Reorder modal forms to look like bootstrap
#redactor-modal-box #redactor-modal {
	@include clearfix;

	// Use admin font
	font-family: inherit;

	// Fix inputs
	input[type="text"], select { @extend .form-control; }
	input[type="checkbox"], input[type="radio"] { margin-right: 5px; }

	// The footer
	footer {
		@include clearfix;

		// Position on left of element
		float: left;

		// Push buttons over the same as content
		padding: 0 40px 40px;

		// Put save on the left and style like bootstrap
		button {
			float: right;
			width: auto !important;
			@extend .btn;
			font-family: inherit;
			margin-right: 2px;
		}

		// Fix the button colors
		.redactor-modal-action-btn { 
			@extend .btn-success;
		}
		.redactor-modal-delete-btn { 
			@extend .btn-danger;
		}
		.redactor-modal-close-btn { 
			@extend .btn-default;
		}
	}
}