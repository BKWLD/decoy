<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Views - Decoy 5</title>
      
      
      
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="Decoy 5">
    <meta property="og:image" content="None/../images/decoy-logo-placeholder.png">
    <meta name="apple-mobile-web-app-title" content="Decoy 5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
      <link rel="apple-touch-icon" href="../images/decoy-logo-placeholder.png">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-a422ff04cc.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Raleway', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../css/style.css">
    
    <script src="../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class=" ">
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
          </span>
        
        Views
      </div>
    </div>
    
      
      <div class="button button-twitter" role="button" aria-label="Twitter">
        <a href="https://twitter.com/bkwld" title="@bkwld on Twitter" target="_blank" class="toggle-button icon icon-twitter"></a>
      </div>
    
    
      
      <div class="button button-github" role="button" aria-label="GitHub">
        <a href="https://github.com/bkwld" title="@bkwld on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
      </div>
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../images/decoy-logo-placeholder.png">
        </div>
      
      <div class="name">
        <strong>
          Decoy 5
          <span class="version">
            
          </span>
        </strong>
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Setup" href="../setup/">
      Setup
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Getting Started" href="../getting_started/">
      Getting Started
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Models" href="../models/">
      Models
    </a>
    
  </li>

          
            
  <li>
    <a class="current" title="Views" href="./">
      Views
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title="Grouping form fields" href="#grouping-form-fields">
                Grouping form fields
              </a>
            </li>
          
            <li class="anchor">
              <a title="Overriding a Decoy partial" href="#overriding-a-decoy-partial">
                Overriding a Decoy partial
              </a>
            </li>
          
            <li class="anchor">
              <a title="Sidebar" href="#sidebar">
                Sidebar
              </a>
            </li>
          
            <li class="anchor">
              <a title="Embeded / inline relationship list" href="#embeded-inline-relationship-list">
                Embeded / inline relationship list
              </a>
            </li>
          
        </ul>
      
    
  </li>

          
            
  <li>
    <a class="" title="Controllers" href="../controllers/">
      Controllers
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Features</span>
    <ul>
      
        
  <li>
    <a class="" title="Custom Form Fields" href="../custom_form_fields/">
      Custom Form Fields
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Elements" href="../elements/">
      Elements
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Images" href="../images/">
      Images
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Localization" href="../localization/">
      Localization
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Model Duplication" href="../model_duplication/">
      Model Duplication
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Permissions" href="../permissions/">
      Permissions
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Slugs" href="../slugs/">
      Slugs
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Validation" href="../validation/">
      Validation
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Video Encoding" href="../video_encoding/">
      Video Encoding
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Workers" href="../workers/">
      Workers
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="WYSIWYG" href="../wysiwyg/">
      WYSIWYG
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
          <hr>
          <span class="section">The author</span>
          <ul>
            
              
              <li>
                <a href="https://twitter.com/bkwld" target="_blank" title="@bkwld on Twitter">
                  @bkwld on Twitter
                </a>
              </li>
            
            
              
              <li>
                <a href="https://github.com/bkwld" target="_blank" title="@bkwld on GitHub">
                  @bkwld on GitHub
                </a>
              </li>
            
          </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>Views</h1>
          
          <p>Admin views are stored in /app/views/admin/CONTROLLER where &ldquo;CONTROLLER&rdquo; is the lowercased controller name (i.e. &ldquo;articles&rdquo;, &ldquo;photos&rdquo;).  For each admin controller, you need to have at least an &ldquo;edit.php&rdquo; file in that directory (i.e. /app/views/admin/articles/edit.php).  This file contains a form used for both the /create and /edit routes.</p>
<h4 id="grouping-form-fields">Grouping form fields</h4>
<p>Use a <code>fieldset</code> and a div of class <code>.legend</code> to contain groups of fields in box.  For instance:</p>
<div class="code"><pre><span></span><span class="o">!=</span> <span class="n">View</span><span class="o">::</span><span class="n">make</span><span class="p">(</span><span class="err">&#39;</span><span class="n">decoy</span><span class="o">::</span><span class="n">shared</span><span class="p">.</span><span class="n">form</span><span class="p">.</span><span class="n">_header</span><span class="err">&#39;</span><span class="p">,</span> <span class="n">$__data</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">render</span><span class="p">()</span>
<span class="nf">%fieldset</span>
    <span class="p">.</span><span class="n">legend</span><span class="o">=</span><span class="n">empty</span><span class="p">(</span><span class="n">$item</span><span class="p">)</span><span class="o">?</span><span class="err">&#39;</span><span class="n">New</span><span class="sc">&#39;:&#39;</span><span class="n">Edit</span><span class="err">&#39;</span>
    <span class="o">!=</span> <span class="n">Former</span><span class="o">::</span><span class="n">text</span><span class="p">(</span><span class="err">&#39;</span><span class="n">title</span><span class="err">&#39;</span><span class="p">)</span>
    <span class="o">!=</span> <span class="n">Former</span><span class="o">::</span><span class="n">textarea</span><span class="p">(</span><span class="err">&#39;</span><span class="n">body</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>


<h4 id="overriding-a-decoy-partial">Overriding a Decoy partial</h4>
<p>You can override any of the Decoy partials on a per-controller basis.  This is done by creating a file structure within a controller&rsquo;s views directory that matches the decoy views structure.  Any mirrored path will be used in place of the Decoy partial.  For instance, if you create a file at app/views/admin/articles/shared/_pagination.php you can customize the pagination partial JUST for the articles controller.</p>
<p>In addition, you can override a partial for ALL controllers through built in <a href="http://laravel.com/docs/packages#package-views">Laravel functionality</a>.</p>
<h4 id="sidebar">Sidebar</h4>
<p>The sidebar is primarily designed to house related model listings but you can actually store anything in it.  Add items to the Sidebar by calling <code>$sidebar-&gt;add('Content')</code> from the view.  For instance:</p>
<div class="code"><pre><span></span>- $sidebar-&gt;add(Former::listing(&#39;Contributor&#39;)-&gt;take(30))
- $sidebar-&gt;add(&#39;<span class="nt">&lt;p&gt;</span>A paragraph<span class="nt">&lt;/p&gt;</span>&#39;)
</pre></div>


<p>Note: This must be run <strong>before</strong> the include of the <code>decoy::shared.form._header</code> partial.</p>
<h3 id="embeded-inline-relationship-list">Embeded / inline relationship list</h3>
<p>A standard list (like seen on index views) can be embedded in form like:</p>
<div class="code"><pre><span></span>!= Former::listing(&#39;Faqs&#39;)-&gt;layout(&#39;form&#39;)-&gt;take(100)
</pre></div>


<p>See the documentation under Form Fields for the full API of <code>listing()</code>.</p>
<h4 id="data-for-former-select-radio-and-checkbox">Data for Former select, radio, and checkbox</h4>
<p>A convention to follow is to create a static array on the model that populates Former&rsquo;s select, radio, and checkbox types.  The name of the property holding this array should be the plural form of the column that will store the value(s).  The keys of this array are slugs that are stored in a database column and the values are the readable vesions.  For instance:</p>
<div class="code"><pre><span></span><span class="x">static public </span><span class="p">$</span><span class="nv">categories</span><span class="x"> = array(</span>
<span class="x">    &#39;inspiring&#39; =&gt; &#39;Inspiring&#39;,</span>
<span class="x">    &#39;quirky&#39; =&gt; &#39;Quirky&#39;,</span>
<span class="x">    &#39;cool&#39; =&gt; &#39;Cool&#39;,</span>
<span class="x">    &#39;adventurous&#39; =&gt; &#39;Adventurous&#39;,</span>
<span class="x">);</span>
</pre></div>


<p>Then, in the edit view, you could do this:</p>
<div class="code"><pre><span></span><span class="x">!= Former::checkbox(&#39;category&#39;)-&gt;checkboxes(Bkwld\Library\Laravel\Former::checkboxArray(&#39;category&#39;, Post::</span><span class="p">$</span><span class="nv">categories</span><span class="x">))-&gt;push(false)</span>
</pre></div>


<p>Furthermore, you can use this array for searching the list view by referencing it in the <code>search</code> property on your controller:</p>
<div class="code"><pre><span></span><span class="x">protected </span><span class="p">$</span><span class="nv">search</span><span class="x"> = array(</span>
<span class="x">    &#39;title&#39;,</span>
<span class="x">    &#39;category&#39; =&gt; array(</span>
<span class="x">        &#39;type&#39; =&gt; &#39;select&#39;,</span>
<span class="x">        &#39;options&#39; =&gt; &#39;Post::</span><span class="p">$</span><span class="nv">categories</span><span class="x">&#39;</span>
<span class="x">    ),</span>
<span class="x">);</span>
</pre></div>


<p>Finally, there is some automatic logic on the list table that will take the values from that column (if specified in the controller <code>columns</code> property) and translate it using the static array, assuming you named it to be the plural of the column.</p>
<h4 id="toggleable-fields">Toggleable fields</h4>
<p>The <code>auto-toggleable</code> JS module applies some JS to forms that will allow you to define fields that hide and show based on clicks on &ldquo;trigger&rdquo; elements.  For example:</p>
<div class="code"><pre><span></span><span class="p">!=</span> <span class="no">Former</span><span class="o">::</span><span class="n">radios</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">radios</span><span class="p">(</span><span class="no">Bkwld</span><span class="p">\</span><span class="no">Library</span><span class="p">\</span><span class="no">Laravel</span><span class="p">\</span><span class="no">Former</span><span class="o">::</span><span class="n">radioArray</span><span class="p">(</span><span class="no">Article</span><span class="o">::</span><span class="vg">$types</span><span class="p">))</span><span class="o">-&gt;</span><span class="n">dataToggleable</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">)</span>
<span class="p">!=</span> <span class="no">Former</span><span class="o">::</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span>
<span class="p">!=</span> <span class="no">Former</span><span class="o">::</span><span class="n">wysiwyg</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">dataShowWhenType</span><span class="p">(</span><span class="s1">&#39;internal&#39;</span><span class="p">)</span>
<span class="p">!=</span> <span class="no">Former</span><span class="o">::</span><span class="n">image</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">dataShowWhenType</span><span class="p">(</span><span class="s1">&#39;internal&#39;</span><span class="p">)</span>
<span class="p">!=</span> <span class="no">Former</span><span class="o">::</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s2">&quot;URL&quot;</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">dataShowWhenType</span><span class="p">(</span><span class="s1">&#39;external&#39;</span><span class="p">)</span>
</pre></div>


<h4 id="nested-related-models">Nested, related models</h4>
<p>You can edit a child model in the context of it&rsquo;s parent Through special naming conventions.  Take the following form for example:</p>
<div class="code"><pre><span></span><span class="p">!=</span> <span class="no">Former</span><span class="o">::</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span>
<span class="p">!=</span> <span class="no">Former</span><span class="o">::</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;_author[2][name]&#39;</span><span class="p">)</span>
</pre></div>


<p>When this form submits, Decoy will update the <code>title</code> attribute of the model like normal, but will also look up <code>$model-&gt;author()-&gt;find(2)</code> and set the <code>name</code> attribute on it to whatever was in the form.</p>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../models/" title="Models">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Models
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../controllers/" title="Controllers">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Controllers
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = '';
    </script>
    <script src="../assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>