<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Getting Started - Decoy 5</title>
      
      
      
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="Decoy 5">
    <meta property="og:image" content="None/../images/decoy-logo-placeholder.png">
    <meta name="apple-mobile-web-app-title" content="Decoy 5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
      <link rel="apple-touch-icon" href="../images/decoy-logo-placeholder.png">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-a422ff04cc.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Raleway', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../css/style.css">
    
    <script src="../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class=" ">
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
          </span>
        
        Getting Started
      </div>
    </div>
    
      
      <div class="button button-twitter" role="button" aria-label="Twitter">
        <a href="https://twitter.com/bkwld" title="@bkwld on Twitter" target="_blank" class="toggle-button icon icon-twitter"></a>
      </div>
    
    
      
      <div class="button button-github" role="button" aria-label="GitHub">
        <a href="https://github.com/bkwld" title="@bkwld on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
      </div>
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../images/decoy-logo-placeholder.png">
        </div>
      
      <div class="name">
        <strong>
          Decoy 5
          <span class="version">
            
          </span>
        </strong>
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Setup" href="../setup/">
      Setup
    </a>
    
  </li>

          
            
  <li>
    <a class="current" title="Getting Started" href="./">
      Getting Started
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title="Config" href="#config">
                Config
              </a>
            </li>
          
            <li class="anchor">
              <a title="Generators" href="#generators">
                Generators
              </a>
            </li>
          
            <li class="anchor">
              <a title="Routing" href="#routing">
                Routing
              </a>
            </li>
          
        </ul>
      
    
  </li>

          
            
  <li>
    <a class="" title="Models" href="../models/">
      Models
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Views" href="../views/">
      Views
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Controllers" href="../controllers/">
      Controllers
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Features</span>
    <ul>
      
        
  <li>
    <a class="" title="Custom Form Fields" href="../custom_form_fields/">
      Custom Form Fields
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Elements" href="../elements/">
      Elements
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Images" href="../images/">
      Images
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Localization" href="../localization/">
      Localization
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Model Duplication" href="../model_duplication/">
      Model Duplication
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Permissions" href="../permissions/">
      Permissions
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Slugs" href="../slugs/">
      Slugs
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Validation" href="../validation/">
      Validation
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Video Encoding" href="../video_encoding/">
      Video Encoding
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Workers" href="../workers/">
      Workers
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="WYSIWYG" href="../wysiwyg/">
      WYSIWYG
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
          <hr>
          <span class="section">The author</span>
          <ul>
            
              
              <li>
                <a href="https://twitter.com/bkwld" target="_blank" title="@bkwld on Twitter">
                  @bkwld on Twitter
                </a>
              </li>
            
            
              
              <li>
                <a href="https://github.com/bkwld" target="_blank" title="@bkwld on GitHub">
                  @bkwld on GitHub
                </a>
              </li>
            
          </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>Getting Started</h1>
          
          <h2 id="config">Config</h2>
<p>On the average project, the only config file that would need changing is the <code>site.php</code> file.  All sites will need to customize at least the <code>nav</code> and <code>post_login_redirect</code> properties.</p>
<h2 id="generators">Generators</h2>
<p>The Decoy workflow begins with generating a migration for a database table using the <a href="http://laravel.com/docs/migrations">standard Laravel approach</a>.  Then, Decoy provides a generator that creates the controller, model, and view for that table.  Run <code>php artisan decoy:generate Model</code> where &ldquo;Model&rdquo; is the name of the Model class you intend to create.  This should be the singular form of the table you created.</p>
<p>You will now be able to access the index view for the new model by going to &ldquo;/admin/{plural model name}&rdquo;.  For instance, &ldquo;/admin/articles&rdquo;.  The generated files will contain commented out, boilerplate code that you can customize for your particular needs.</p>
<h2 id="routing">Routing</h2>
<h4 id="standard-crud-routes">Standard CRUD routes</h4>
<p>Decoy registers a wildcard <code>admin/*</code> route. It parses the requested path to determine what controller and action should be used.  The route is parsed by taking dash-delimited slugs of the controller and converting them to StudlyCased controller names and snakeCased actions on the controller.  You can read the Bkwld\Decoy\Controllers\Base docs for all of the default actions, but here&rsquo;s an example of the more significant ones:</p>
<p>Assuming your model is <code>App\ProjectCategory</code> with a controller of <code>App\Http\Controllers\Admin\ProjectCategories</code>:</p>
<ul>
<li><code>GET /admin/project-categories</code> - List all project categories</li>
<li><code>GET /admin/project-categories/create</code> - Form to create a new category</li>
<li><code>POST /admin/project-categories/create</code> - Create a new category and redirect to edit action</li>
<li><code>GET /admin/project-categories/2/edit</code> - Form to edit category with primary key of <code>2</code></li>
<li><code>POST /admin/project-categories/2/edit</code> - Update the category and redirect to same edit action</li>
<li>Also supports <code>PUT /admin/project-categories/2</code> and <code>POST /admin/project-categories/2</code></li>
<li><code>GET /admin/project-categories/2/destroy</code> - Delete the category</li>
<li>Also supports <code>DELETE /admin/project-categories/2</code></li>
</ul>
<h4 id="creating-custom-routes">Creating custom routes</h4>
<p>Decoy&rsquo;s wildcard router will interfere with creating custom /admin routes because it runs before app routes gets registered (and I <a href="https://github.com/BKWLD/decoy/issues/490">haven&rsquo;t found a way</a> to delay it).  You can stop Decoy from registering it&rsquo;s routes via the <code>decoy.core.register_routes</code> boolean config value and then manually register them after you finish registering your own routes. Thus:</p>
<ul>
<li><code>config/decoy/core.php</code>:</li>
</ul>
<p><code>php
  'register_routes' =&gt; false,</code></p>
<ul>
<li><code>app/Http/routes.php</code>:</li>
</ul>
<div class="code"><pre><span></span><span class="x">// Register custom &quot;example&quot; action</span>
<span class="x">Route::group([</span>
<span class="x">  &#39;middleware&#39; =&gt; &#39;decoy.protected&#39;,</span>
<span class="x">  &#39;prefix&#39; =&gt; &#39;admin&#39;,</span>
<span class="x">  &#39;namespace&#39; =&gt; &#39;Admin&#39;,</span>
<span class="x">], function() {</span>
<span class="x">  Route::get(&#39;project-categories/example&#39;, &#39;ProjectCategories@example&#39;);</span>
<span class="x">});</span>

<span class="x">// Register rest of Decoy routes manually</span>
<span class="x">app(&#39;decoy.router&#39;)-&gt;registerAll();</span>
</pre></div>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../setup/" title="Setup">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Setup
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../models/" title="Models">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Models
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = '';
    </script>
    <script src="../assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>